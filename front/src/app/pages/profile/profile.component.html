<div class="profile-container">
  <h2>Profil utilisateur</h2>
  <!-- Formulaire de modification du profil -->
  <form *ngIf="user" (ngSubmit)="saveChanges()">
    <div class="form-group">
      <label for="username">Username</label>
      <input id="username" type="text" [(ngModel)]="user.username" name="username" required />
    </div>
    <div class="form-group">
      <label for="email">Email</label>
      <input id="email" type="email" [(ngModel)]="user.email" name="email" required />
    </div>
    <button type="submit" class="btn-save">Sauvegarder</button>
    <p class="logout-link" (click)="logout()">Se déconnecter</p>
  </form>
  <!-- Message de succès de sauvegarde -->
  <div *ngIf="saveSuccess" class="save-success-message">
    Informations sauvegardées avec succès !
  </div>
  <hr />
  <!-- Formulaire de modification du mot de passe -->
  <h3>Changer le mot de passe</h3>
  <form (ngSubmit)="changePassword()">
    <div class="form-group">
      <label for="currentPassword">Mot de passe actuel</label>
      <input id="currentPassword" type="password" [(ngModel)]="passwordData.currentPassword" name="currentPassword" required />
    </div>
    <div class="form-group">
      <label for="newPassword">Nouveau mot de passe</label>
      <input id="newPassword" type="password" [(ngModel)]="passwordData.newPassword" name="newPassword" required />
    </div>
    <div class="form-group">
      <label for="confirmPassword">Confirmer le nouveau mot de passe</label>
      <input id="confirmPassword" type="password" [(ngModel)]="passwordData.confirmPassword" name="confirmPassword" required />
    </div>
    <button type="submit" class="btn-save">Changer le mot de passe</button>
  </form>
  <div *ngIf="passwordErrorMessage" class="error-message">
    {{ passwordErrorMessage }}
  </div>
  <div *ngIf="passwordSuccessMessage" class="success-message">
    {{ passwordSuccessMessage }}
  </div>
  <hr />
  <!-- Liste des abonnements -->
  <h3>Abonnements</h3>
  <div class="subscriptions">
    <div *ngFor="let theme of subscriptions" class="subscription-card">
      <h4>{{ theme.title }}</h4>
      <p>{{ theme.description }}</p>
      <button class="btn-unsubscribe" (click)="unsubscribe(theme.id)">Se désabonner</button>
    </div>
  </div>
</div>